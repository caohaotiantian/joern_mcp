# ç¤ºä¾‹é¡¹ç›®

æœ¬ç›®å½•åŒ…å«Joern MCP Serverçš„æ¼”ç¤ºç¤ºä¾‹ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
examples/
â”œâ”€â”€ README.md                  # æœ¬æ–‡ä»¶
â”œâ”€â”€ demo.py                    # å®Œæ•´æ¼”ç¤ºè„šæœ¬
â”œâ”€â”€ scripts/                   # å®‰å…¨åˆ†æè„šæœ¬
â”‚   â”œâ”€â”€ README.md              # è„šæœ¬è¯´æ˜
â”‚   â”œâ”€â”€ analyze_command_injection.py   # å‘½ä»¤æ³¨å…¥æ£€æµ‹
â”‚   â”œâ”€â”€ analyze_buffer_overflow.py     # ç¼“å†²åŒºæº¢å‡ºæ£€æµ‹
â”‚   â””â”€â”€ analyze_all_vulnerabilities.py # ç»¼åˆå®‰å…¨æ‰«æ
â””â”€â”€ vulnerable_c/              # ç¤ºä¾‹æ¼æ´Cä»£ç 
    â””â”€â”€ vulnerable.c           # åŒ…å«å¤šç§æ¼æ´çš„Cä»£ç 
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### è¿è¡Œæ¼”ç¤º

```bash
# è¿›å…¥é¡¹ç›®æ ¹ç›®å½•
cd joern_mcp

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source .venv/bin/activate

# è¿è¡Œæ¼”ç¤ºè„šæœ¬
python examples/demo.py
```

### æ¼”ç¤ºå†…å®¹

æ¼”ç¤ºè„šæœ¬å°†å±•ç¤ºä»¥ä¸‹åŠŸèƒ½ï¼š

1. **é¡¹ç›®ç®¡ç†** - è§£æCä»£ç ç”ŸæˆCPG
2. **è°ƒç”¨å›¾åˆ†æ** - åˆ†æå‡½æ•°è°ƒç”¨å…³ç³»
3. **æ•°æ®æµåˆ†æ** - è¿½è¸ªæ•°æ®æµå‘
4. **æ¼æ´æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹å®‰å…¨æ¼æ´
5. **è‡ªå®šä¹‰æŸ¥è¯¢** - æ‰§è¡ŒCPGQLæŸ¥è¯¢

## ğŸ”’ ç¤ºä¾‹æ¼æ´ä»£ç 

`vulnerable_c/vulnerable.c` åŒ…å«ä»¥ä¸‹æ¼æ´ç¤ºä¾‹ï¼š

| æ¼æ´ç±»å‹ | å‡½æ•°å | CWEç¼–å· |
|---------|--------|---------|
| å‘½ä»¤æ³¨å…¥ | `command_injection` | CWE-78 |
| ç¼“å†²åŒºæº¢å‡º | `buffer_overflow` | CWE-120 |
| æ ¼å¼åŒ–å­—ç¬¦ä¸² | `format_string` | CWE-134 |
| ä¸å®‰å…¨çš„gets | `unsafe_gets` | CWE-120 |
| SQLæ³¨å…¥æ¨¡æ‹Ÿ | `sql_query` | CWE-89 |
| è·¯å¾„éå† | `path_traversal` | CWE-22 |

âš ï¸ **è­¦å‘Š**: è¿™äº›ä»£ç ä»…ç”¨äºæ¼”ç¤ºç›®çš„ï¼Œè¯·å‹¿åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨ï¼

## ğŸ“Š é¢„æœŸè¾“å‡º

è¿è¡Œæ¼”ç¤ºåï¼Œæ‚¨å°†çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š

```
ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’
     Joern MCP Server æ¼”ç¤º
ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’ğŸ”’

ç¤ºä¾‹ä»£ç è·¯å¾„: /path/to/examples/vulnerable_c

å¯åŠ¨JoernæœåŠ¡å™¨...
âœ… JoernæœåŠ¡å™¨å·²å¯åŠ¨: localhost:8080

============================================================
 ğŸ“‚ é¡¹ç›®ç®¡ç†æ¼”ç¤º
============================================================

1. è§£æé¡¹ç›®...
   âœ… é¡¹ç›®è§£ææˆåŠŸ

============================================================
 ğŸ›¡ï¸ æ¼æ´æ£€æµ‹æ¼”ç¤º
============================================================

2. æ‰«ææ‰€æœ‰æ¼æ´:
   å‘ç° 8 ä¸ªæ½œåœ¨æ¼æ´
   - CRITICAL: 5 ä¸ª
   - HIGH: 3 ä¸ª
...
```

## ğŸ” å®‰å…¨åˆ†æè„šæœ¬

`scripts/` ç›®å½•åŒ…å«ç‹¬ç«‹çš„å®‰å…¨åˆ†æè„šæœ¬ï¼š

### å‘½ä»¤æ³¨å…¥æ£€æµ‹

```bash
python examples/scripts/analyze_command_injection.py examples/vulnerable_c
```

### ç¼“å†²åŒºæº¢å‡ºæ£€æµ‹

```bash
python examples/scripts/analyze_buffer_overflow.py examples/vulnerable_c
```

### ç»¼åˆå®‰å…¨æ‰«æ

```bash
python examples/scripts/analyze_all_vulnerabilities.py examples/vulnerable_c
```

ç»¼åˆæ‰«æä¼šç”Ÿæˆ JSON æ ¼å¼çš„è¯¦ç»†æŠ¥å‘Šã€‚

è¯¦ç»†è¯´æ˜è¯·å‚é˜… [scripts/README.md](scripts/README.md)ã€‚

## ğŸ› ï¸ è‡ªå®šä¹‰æ¼”ç¤º

æ‚¨å¯ä»¥ä¿®æ”¹`demo.py`æ¥æµ‹è¯•ä¸åŒçš„åŠŸèƒ½ï¼š

```python
# ä¿®æ”¹ç›®æ ‡å‡½æ•°
callers = await service.get_callers("your_function", depth=3)

# ä¿®æ”¹æ±¡ç‚¹æºå’Œæ±‡
flows = await service.check_specific_flow("your_source", "your_sink")

# æ·»åŠ è‡ªå®šä¹‰æŸ¥è¯¢
result = await executor.execute("your_cpgql_query")
```

## ğŸ“š æ›´å¤šä¿¡æ¯

- [ç”¨æˆ·æ‰‹å†Œ](../docs/USER_GUIDE.md)
- [APIå‚è€ƒ](../docs/API_REFERENCE.md)
- [å®‰è£…æŒ‡å—](../docs/INSTALLATION.md)


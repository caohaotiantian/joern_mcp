# Joern MCP Server

[![Python Version](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-Apache%202.0-green.svg)](LICENSE)
[![MCP](https://img.shields.io/badge/MCP-Compatible-purple.svg)](https://modelcontextprotocol.io)
[![Development Status](https://img.shields.io/badge/status-Week%201%20Complete-success.svg)]()

å°†å¼ºå¤§çš„Joernä»£ç åˆ†æå¹³å°å°è£…ä¸ºMCP Serverï¼Œè®©LLMèƒ½å¤Ÿå¯¹ä»£ç è¿›è¡Œæ·±åº¦é™æ€åˆ†æã€‚

## ğŸ‰ é¡¹ç›®çŠ¶æ€

**å½“å‰è¿›åº¦**: âœ… Week 1-6 å®Œæˆï¼ˆMCPä¸‰å¤§èƒ½åŠ›å…¨éƒ¨å®ç°ï¼‰  
**å®Œæˆåº¦**: 75% (Week 6 of 8)  
**ä»£ç è¡Œæ•°**: ~4230è¡Œ  
**æµ‹è¯•ç”¨ä¾‹**: 48ä¸ª  
**MCP Tools**: 26ä¸ª  
**MCP Resources**: 4ä¸ª  
**MCP Prompts**: 5ä¸ª  
**åˆ†ææœåŠ¡**: 3ä¸ª  
**æ¼æ´è§„åˆ™**: 6ä¸ª

æŸ¥çœ‹è¯¦ç»†è¿›åº¦ï¼š
- [Week 1 è¿›åº¦](PROGRESS_WEEK1.md)
- [Week 2 è¿›åº¦](PROGRESS_WEEK2.md)
- [Week 3 è¿›åº¦](PROGRESS_WEEK3.md)
- [Week 4-5 è¿›åº¦](PROGRESS_WEEK4-5.md)
- [Week 6 è¿›åº¦](PROGRESS_WEEK6.md)
- [ğŸ“Š é¡¹ç›®çŠ¶æ€](PROJECT_STATUS.md)
- [âœ… éªŒè¯æŠ¥å‘Š](VALIDATION_REPORT.md)

## âœ¨ å·²å®ç°åŠŸèƒ½

### Week 1: åŸºç¡€è®¾æ–½ âœ…
- âœ… é…ç½®ç®¡ç†ç³»ç»Ÿ
- âœ… æ—¥å¿—ç³»ç»Ÿ
- âœ… Joernå®‰è£…æ£€æµ‹å’Œç®¡ç†
- âœ… Joern Serverå¯åŠ¨å’Œç®¡ç†
- âœ… æŸ¥è¯¢æ‰§è¡Œå™¨ï¼ˆç¼“å­˜ã€éªŒè¯ã€å¹¶å‘æ§åˆ¶ï¼‰

### Week 2: MCPåŸºç¡€ âœ…
- âœ… FastMCPæœåŠ¡å™¨ï¼ˆç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼‰
- âœ… 8ä¸ªMCPå·¥å…·ï¼ˆé¡¹ç›®ç®¡ç†ã€ä»£ç æŸ¥è¯¢ï¼‰
- âœ… 15+ä¸ªæŸ¥è¯¢æ¨¡æ¿
- âœ… å¥åº·æ£€æŸ¥å’Œè‡ªå®šä¹‰æŸ¥è¯¢

### Week 3: åˆ†ææœåŠ¡ âœ…
- âœ… CallGraphServiceï¼ˆè°ƒç”¨å›¾åˆ†æï¼‰
- âœ… DataFlowServiceï¼ˆæ•°æ®æµåˆ†æï¼‰
- âœ… 7ä¸ªæ–°MCPå·¥å…·ï¼ˆè°ƒç”¨å›¾ã€æ•°æ®æµï¼‰
- âœ… 13ä¸ªæ–°æµ‹è¯•ç”¨ä¾‹

### Week 4: æ±¡ç‚¹åˆ†æ âœ…
- âœ… TaintAnalysisServiceï¼ˆæ±¡ç‚¹åˆ†ææœåŠ¡ï¼‰
- âœ… 6ä¸ªé¢„å®šä¹‰æ¼æ´æ£€æµ‹è§„åˆ™
- âœ… 4ä¸ªæ–°MCPå·¥å…·ï¼ˆæ¼æ´æ£€æµ‹ï¼‰
- âœ… 11ä¸ªæ–°æµ‹è¯•ç”¨ä¾‹

### Week 5: é«˜çº§åŠŸèƒ½ âœ…
- âœ… CFGæ§åˆ¶æµåˆ†æï¼ˆ3ä¸ªå·¥å…·ï¼‰
- âœ… æ‰¹é‡æŸ¥è¯¢åŠŸèƒ½ï¼ˆ2ä¸ªå·¥å…·ï¼‰
- âœ… ç»“æœå¯¼å‡ºåŠŸèƒ½ï¼ˆ2ä¸ªå·¥å…·ï¼‰
- âœ… å¤šæ ¼å¼æ”¯æŒï¼ˆJSON, Markdown, CSVï¼‰

### Week 6: MCP Resourceså’ŒPrompts âœ…
- âœ… 4ä¸ªMCP Resourcesï¼ˆé¡¹ç›®æ•°æ®æš´éœ²ï¼‰
- âœ… 5ä¸ªMCP Promptsï¼ˆåˆ†ææç¤ºæ¨¡æ¿ï¼‰
- âœ… å®Œæ•´çš„ç”¨æˆ·æŒ‡å—ï¼ˆ1300+è¡Œï¼‰
- âœ… è¯¦ç»†çš„APIå‚è€ƒï¼ˆ700+è¡Œï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Python 3.10+
- JDK 21
- Joernï¼ˆå¯é€‰ï¼Œç”¨äºé›†æˆæµ‹è¯•ï¼‰

### å®‰è£…

```bash
# 1. å…‹éš†ä»“åº“ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
cd /Users/caohaotian/Documents/joern_mcp

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv .venv
source .venv/bin/activate  # Linux/Mac
# æˆ–
.venv\Scripts\activate  # Windows

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt
pip install -r requirements-dev.txt

# 4. å®‰è£…Joernï¼ˆå¯é€‰ï¼‰
curl -L https://github.com/joernio/joern/releases/latest/download/joern-install.sh | sudo bash

# 5. è¿è¡Œæµ‹è¯•
pytest tests/ -v
```

### éªŒè¯å®‰è£…

```bash
# æµ‹è¯•é…ç½®ç³»ç»Ÿ
python3 -c "from joern_mcp.config import settings; print(settings.joern_server_host)"

# æµ‹è¯•Joernæ£€æµ‹ï¼ˆéœ€è¦å®‰è£…Joernï¼‰
python3 -c "from joern_mcp.joern.manager import JoernManager; m = JoernManager(); print(f'Joern version: {m.get_version()}')"

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest tests/ -v --cov=joern_mcp
```

## ğŸ“– æ–‡æ¡£

### æ ¸å¿ƒæ–‡æ¡£

- ğŸ“˜ [å¼€å‘å°±ç»ªæŒ‡å—](DEVELOPMENT_READY.md) - **ä»è¿™é‡Œå¼€å§‹ï¼**
- ğŸ“‹ [ç¬¬ä¸€å‘¨è¿›åº¦æŠ¥å‘Š](PROGRESS_WEEK1.md) - æŸ¥çœ‹å·²å®Œæˆçš„å·¥ä½œ
- ğŸ“š [å®Œæ•´è®¾è®¡æ–¹æ¡ˆ](doc/DESIGN.md) - æŠ€æœ¯è®¾è®¡ï¼ˆ15,000å­—ï¼‰
- ğŸ”§ [Joerné›†æˆè¯¦è§£](doc/JOERN_INTEGRATION.md) - Joern Serveræ¨¡å¼
- ğŸ“– [å¿«é€Ÿå‚è€ƒæ‰‹å†Œ](doc/QUICK_REFERENCE.md) - æ—¥å¸¸å¼€å‘é€ŸæŸ¥
- ğŸ“Š [ä»»åŠ¡è·Ÿè¸ªè¡¨](doc/TASK_TRACKER.md) - å¼€å‘è¿›åº¦è·Ÿè¸ª

### å¼€å‘æ–‡æ¡£

- ğŸ¯ [å¼€å‘è®¡åˆ’æ€»è§ˆ](doc/DEVELOPMENT_OVERVIEW.md)
- ğŸ“… [ç¬¬ä¸€å‘¨è¯¦ç»†è®¡åˆ’](doc/DEVELOPMENT_PLAN.md)
- ğŸ“… [ç¬¬2-8å‘¨è®¡åˆ’](doc/DEVELOPMENT_PLAN_WEEK2-8.md)

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
joern_mcp/
â”œâ”€â”€ src/joern_mcp/          # æºä»£ç 
â”‚   â”œâ”€â”€ config.py           # âœ… é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ joern/              # âœ… Joerné›†æˆ
â”‚   â”‚   â”œâ”€â”€ manager.py      # âœ… Joernç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ server.py       # âœ… Serverç®¡ç†
â”‚   â”‚   â””â”€â”€ executor.py     # âœ… æŸ¥è¯¢æ‰§è¡Œå™¨
â”‚   â”œâ”€â”€ utils/              # âœ… å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ logger.py       # âœ… æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ services/           # â³ åˆ†ææœåŠ¡ï¼ˆWeek 3-4ï¼‰
â”‚   â”œâ”€â”€ tools/              # â³ MCPå·¥å…·ï¼ˆWeek 2ï¼‰
â”‚   â”œâ”€â”€ resources/          # â³ MCPèµ„æºï¼ˆWeek 6ï¼‰
â”‚   â””â”€â”€ prompts/            # â³ MCPæç¤ºï¼ˆWeek 6ï¼‰
â”‚
â”œâ”€â”€ tests/                  # âœ… æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ conftest.py         # âœ… Pytesté…ç½®
â”‚   â”œâ”€â”€ test_config.py      # âœ… é…ç½®æµ‹è¯•
â”‚   â”œâ”€â”€ test_joern/         # âœ… Joerné›†æˆæµ‹è¯•
â”‚   â””â”€â”€ test_utils/         # âœ… å·¥å…·æµ‹è¯•
â”‚
â””â”€â”€ doc/                    # ğŸ“š å®Œæ•´æ–‡æ¡£
```

## ğŸ“ å¼€å‘è·¯çº¿å›¾

### âœ… Week 1: åŸºç¡€è®¾æ–½ï¼ˆå·²å®Œæˆï¼‰
- é¡¹ç›®åˆå§‹åŒ–
- é…ç½®å’Œæ—¥å¿—ç³»ç»Ÿ
- Joerné›†æˆ
- æŸ¥è¯¢æ‰§è¡Œå™¨

### â³ Week 2: MCPåŸºç¡€è®¾æ–½ï¼ˆè¿›è¡Œä¸­ï¼‰
- FastMCPæœåŠ¡å™¨
- é¡¹ç›®ç®¡ç†å·¥å…·
- ä»£ç æŸ¥è¯¢å·¥å…·

### ğŸ“… Week 3-8: æ ¸å¿ƒåŠŸèƒ½
- Week 3: è°ƒç”¨å›¾å’Œæ•°æ®æµåˆ†æ
- Week 4: æ±¡ç‚¹åˆ†æ
- Week 5: é«˜çº§åŠŸèƒ½
- Week 6: Resourceså’ŒPrompts
- Week 7: é›†æˆæµ‹è¯•
- Week 8: ä¼˜åŒ–å’Œå‘å¸ƒ

è¯¦è§ï¼š[å¼€å‘è·¯çº¿å›¾](doc/ROADMAP.md)

## ğŸ§ª è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest tests/ -v

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/test_config.py -v

# æŸ¥çœ‹è¦†ç›–ç‡
pytest --cov=joern_mcp --cov-report=html tests/
open htmlcov/index.html

# è·³è¿‡éœ€è¦Joernçš„æµ‹è¯•
pytest -m "not requires_joern" tests/
```

## ğŸ› ï¸ å¼€å‘å·¥å…·

### ä»£ç æ ¼å¼åŒ–

```bash
# æ ¼å¼åŒ–ä»£ç 
black src/ tests/

# æ£€æŸ¥ä»£ç é£æ ¼
ruff check src/ tests/

# è‡ªåŠ¨ä¿®å¤
ruff check --fix src/ tests/

# ç±»å‹æ£€æŸ¥
mypy src/
```

### å¼€å‘ç¯å¢ƒ

æ¨èä½¿ç”¨VS Codeæˆ–PyCharmï¼Œé…ç½®å·²åŒ…å«åœ¨é¡¹ç›®ä¸­ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/new-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add some feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/new-feature`
5. æäº¤Pull Request

è¯¦è§ï¼š[å¼€å‘æŒ‡å—](doc/DEVELOPMENT.md)

## ğŸ“Š å½“å‰è¿›åº¦

| æ¨¡å— | çŠ¶æ€ | å®Œæˆåº¦ |
|------|------|--------|
| åŸºç¡€è®¾æ–½ | âœ… | 100% |
| Joerné›†æˆ | âœ… | 100% |
| MCPåŸºç¡€ | â³ | 0% |
| åˆ†ææœåŠ¡ | â³ | 0% |
| æµ‹è¯• | âœ… | Week 1å®Œæˆ |
| æ–‡æ¡£ | âœ… | 100% |

## ğŸ”— ç›¸å…³é“¾æ¥

- [Joernå®˜ç½‘](https://joern.io)
- [Joernæ–‡æ¡£](https://docs.joern.io)
- [MCPåè®®](https://modelcontextprotocol.io)
- [cpgqls-client](https://github.com/joernio/cpgqls-client-python)

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache 2.0 è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- [Joern](https://joern.io) - å¼ºå¤§çš„ä»£ç åˆ†æå¹³å°
- [FastMCP](https://github.com/jlowin/fastmcp) - ä¼˜ç§€çš„MCPæ¡†æ¶
- [Anthropic](https://www.anthropic.com) - MCPåè®®å’ŒClaude

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: https://github.com/yourusername/joern_mcp
- é—®é¢˜åé¦ˆ: https://github.com/yourusername/joern_mcp/issues
- è®¨è®ºåŒº: https://github.com/yourusername/joern_mcp/discussions

---

**å½“å‰ç‰ˆæœ¬**: 0.1.0-dev  
**å¼€å‘çŠ¶æ€**: Week 1 å®Œæˆï¼Œå‡†å¤‡è¿›å…¥ Week 2  
**æœ€åæ›´æ–°**: 2025-11-26

**ä¸‹ä¸€æ­¥**: å®‰è£…ä¾èµ–å¹¶è¿è¡Œæµ‹è¯•ï¼Œç„¶åå¼€å§‹ Week 2 çš„MCPåŸºç¡€è®¾æ–½å¼€å‘ã€‚

æŸ¥çœ‹ [DEVELOPMENT_READY.md](DEVELOPMENT_READY.md) äº†è§£å¦‚ä½•å¼€å§‹ï¼

